(()=>{var A=Object.defineProperty;var L=(n,o)=>{for(var t in o)A(n,t,{get:o[t],enumerable:!0})};var w={};L(w,{client:()=>U,formdata:()=>g,metroError:()=>f,request:()=>y,response:()=>b,trace:()=>T,url:()=>h});var l="https://metro.muze.nl/details/";Symbol.metroProxy||(Symbol.metroProxy=Symbol("isProxy"));Symbol.metroSource||(Symbol.metroSource=Symbol("source"));var u=class n{#e={url:typeof window<"u"?window.location:"https://localhost"};#t=["get","post","put","delete","patch","head","options","query"];static tracers={};constructor(...o){for(let t of o)if(typeof t=="string"||t instanceof String)this.#e.url=""+t;else if(t instanceof n)Object.assign(this.#e,t.#e);else if(t instanceof Function)this.#r([t]);else if(t&&typeof t=="object")for(let e in t)e=="middlewares"?this.#r(t[e]):typeof t[e]=="function"?this.#e[e]=t[e](this.#e[e],this.#e):this.#e[e]=t[e];this.#e.verbs&&(this.#t=this.#e.verbs,delete this.#e.verbs);for(let t of this.#t)this[t]=async function(...e){return this.fetch(y(this.#e,...e,{method:t.toUpperCase()}))};Object.freeze(this)}#r(o){typeof o=="function"&&(o=[o]);let t=o.findIndex(e=>typeof e!="function");if(t>=0)throw f("metro.client: middlewares must be a function or an array of functions "+l+"client/invalid-middlewares/",o[t]);Array.isArray(this.#e.middlewares)||(this.#e.middlewares=[]),this.#e.middlewares=this.#e.middlewares.concat(o)}fetch(o,t){if(o=y(o,t),!o.url)throw f("metro.client."+o.method.toLowerCase()+": Missing url parameter "+l+"client/fetch-missing-url/",o);if(t||(t={}),typeof t!="object"||t instanceof String)throw f("metro.client.fetch: Invalid options parameter "+l+"client/fetch-invalid-options/",t);let r=[async function(s){s[Symbol.metroProxy]&&(s=s[Symbol.metroSource]);let m=await fetch(s);return b(m)}].concat(this.#e?.middlewares?.slice()||[]);t=Object.assign({},this.#e,t);let a;for(let i of r)a=function(s,m){return async function(j){let p,v=Object.values(n.tracers);for(let c of v)c.request&&c.request.call(c,j,m);p=await m(j,s);for(let c of v)c.response&&c.response.call(c,p,m);return p}}(a,i);return a(o)}with(...o){return new n(this,...o)}};function U(...n){return new u(...n)}function E(n,o){let t=o||{};!t.url&&o.url&&(t.url=o.url);for(let e of["method","headers","body","mode","credentials","cache","redirect","referrer","referrerPolicy","integrity","keepalive","signal","priority","url"]){let r=n[e];if(!(typeof r>"u"||r==null))if(r?.[Symbol.metroProxy]&&(r=r[Symbol.metroSource]),typeof r=="function")t[e]=r(t[e],t);else if(e=="url")t.url=h(t.url,r);else if(e=="headers"){t.headers=new Headers(o.headers),r instanceof Headers||(r=new Headers(n.headers));for(let[a,i]of r.entries())t.headers.set(a,i)}else t[e]=r}return n instanceof Request&&n.data&&(t.body=n.data),t}function y(...n){let o={url:typeof window<"u"?window.location:"https://localhost/",duplex:"half"};for(let r of n)typeof r=="string"||r instanceof URL||r instanceof URLSearchParams?o.url=h(o.url,r):r&&(r instanceof FormData||r instanceof ReadableStream||r instanceof Blob||r instanceof ArrayBuffer||r instanceof DataView)?o.body=r:r&&typeof r=="object"&&Object.assign(o,E(r,o));let t=new Request(o.url,o),e=o.body;return e&&typeof e=="object"&&!(e instanceof String)&&!(e instanceof ReadableStream)&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&!(e instanceof DataView)&&!(e instanceof FormData)&&!(e instanceof URLSearchParams)&&(typeof TypedArray>"u"||!(e instanceof TypedArray))&&typeof e.toString=="function"&&(o.body=e.toString({headers:t.headers}),t=new Request(o.url,o)),Object.freeze(t),new Proxy(t,{get(r,a,i){switch(a){case Symbol.metroSource:return r;case Symbol.metroProxy:return!0;case"with":return function(...s){return e&&s.unshift({body:e}),y(r,...s)};case"data":return e}return r[a]instanceof Function?r[a].bind(r):r[a]}})}function R(n,o){let t=o||{};!t.url&&o.url&&(t.url=o.url);for(let e of["status","statusText","headers","body","url","type","redirected"]){let r=n[e];typeof r>"u"||r==null||(r?.[Symbol.metroProxy]&&(r=r[Symbol.metroSource]),typeof r=="function"?t[e]=r(t[e],t):e=="url"?t.url=new URL(r,t.url||"https://localhost/"):t[e]=r)}return n instanceof Response&&n.data&&(t.body=n.data),t}function b(...n){let o={};for(let r of n)typeof r=="string"?o.body=r:r instanceof Response?Object.assign(o,R(r,o)):r&&typeof r=="object"&&(r instanceof FormData||r instanceof Blob||r instanceof ArrayBuffer||r instanceof DataView||r instanceof ReadableStream||r instanceof URLSearchParams||r instanceof String||typeof TypedArray<"u"&&r instanceof TypedArray?o.body=r:Object.assign(o,R(r,o)));let t;o.body&&(t=o.body);let e=new Response(o.body,o);return Object.freeze(e),new Proxy(e,{get(r,a,i){switch(a){case Symbol.metroProxy:return!0;case Symbol.metroSource:return r;case"with":return function(...s){return b(r,...s)};case"data":return t;case"ok":return r.status>=200&&r.status<400}return typeof r[a]=="function"?r[a].bind(r):r[a]}})}function k(n,o){typeof o=="function"?o(n.searchParams,n):(o=new URLSearchParams(o),o.forEach((t,e)=>{n.searchParams.append(e,t)}))}function h(...n){let o=["hash","host","hostname","href","password","pathname","port","protocol","username","search","searchParams"],t=new URL("https://localhost/");for(let e of n)if(typeof e=="string"||e instanceof String)t=new URL(e,t);else if(e instanceof URL||typeof Location<"u"&&e instanceof Location)t=new URL(e);else if(e instanceof URLSearchParams)k(t,e);else if(e&&typeof e=="object")for(let r in e)switch(r){case"search":typeof e.search=="function"?e.search(t.search,t):t.search=new URLSearchParams(e.search);break;case"searchParams":k(t,e.searchParams);break;default:if(!o.includes(r))throw f("metro.url: unknown url parameter "+l+"url/unknown-param-name/",r);if(typeof e[r]=="function")e[r](t[r],t);else if(typeof e[r]=="string"||e[r]instanceof String||typeof e[r]=="number"||e[r]instanceof Number||typeof e[r]=="boolean"||e[r]instanceof Boolean)t[r]=""+e[r];else if(typeof e[r]=="object"&&e[r].toString)t[r]=e[r].toString();else throw f("metro.url: unsupported value for "+r+" "+l+"url/unsupported-param-value/",n[r]);break}else throw f("metro.url: unsupported option value "+l+"url/unsupported-option-value/",e);return Object.freeze(t),new Proxy(t,{get(e,r,a){switch(r){case Symbol.metroProxy:return!0;case Symbol.metroSource:return e;case"with":return function(...i){return h(e,...i)};case"filename":return e.pathname.split("/").pop();case"folderpath":return e.pathname.substring(0,e.pathname.lastIndexOf("\\")+1)}return e[r]instanceof Function?e[r].bind(e):e[r]}})}function g(...n){var o=new FormData;for(let t of n)if(t instanceof HTMLFormElement&&(t=new FormData(t)),t instanceof FormData)for(let e of t.entries())o.append(e[0],e[1]);else if(t&&typeof t=="object")for(let e of Object.entries(t))if(Array.isArray(e[1]))for(let r of e[1])o.append(e[0],r);else o.append(e[0],e[1]);else throw new f("metro.formdata: unknown option type "+l+"formdata/unknown-option-value/",t);return Object.freeze(o),new Proxy(o,{get:(t,e,r)=>{switch(e){case Symbol.metroProxy:return!0;case Symbol.metroSource:return t;case"with":return function(...a){return g(t,...a)}}return t[e]instanceof Function?t[e].bind(t):t[e]}})}var d={error:(n,...o)=>{console.error("\u24C2\uFE0F  ",n,...o)},info:(n,...o)=>{console.info("\u24C2\uFE0F  ",n,...o)},group:n=>{console.group("\u24C2\uFE0F  "+n)},groupEnd:n=>{console.groupEnd("\u24C2\uFE0F  "+n)}};function f(n,...o){return d.error(n,...o),new Error(n,...o)}var T={add(n,o){u.tracers[n]=o},delete(n){delete u.tracers[n]},clear(){u.tracers={}},group(){let n=0;return{request:(o,t)=>{n++,d.group(n),d.info(o?.url,o,t)},response:(o,t)=>{d.info(o?.body?o.body[Symbol.metroSource]:null,o,t),d.groupEnd(n),n--}}}};function P(n){return n=Object.assign({mimetype:"application/json",reviver:null,replacer:null,space:""},n),async(o,t)=>{S(o.headers.get("Accept"))||(o=o.with({headers:{Accept:n.mimetype}})),["POST","PUT","PATCH","QUERY"].includes(o.method)&&o.data&&typeof o.data=="object"&&!(o.data instanceof ReadableStream)&&(S(o.headers.get("content-type"))||(o=o.with({headers:{"Content-Type":n.mimetype}})),o=o.with({body:JSON.stringify(o.data,n.replacer,n.space)}));let e=await t(o);if(S(e.headers.get("content-type"))){let a=await e.clone().text();try{let i=JSON.parse(a,n.reviver);return e.with({body:i})}catch{}}return e}}var F=/^application\/([a-zA-Z0-9\-_]+\+)?json\b/;function S(n){return F.exec(n)}function x(n){return async(o,t)=>{let e=await t(o);if(!e.ok)if(n&&typeof n[e.status]=="function")e=n[e.status].apply(e,o);else throw new Error(e.status+": "+e.statusText,{cause:e});return e}}var O=Object.assign({},w,{mw:{jsonmw:P,thrower:x}});globalThis.metro||(globalThis.metro=O);var J=O;})();
//# sourceMappingURL=everything.min.js.map
