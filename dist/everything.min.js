(()=>{var g=Object.defineProperty;var L=(o,n)=>{for(var t in n)g(o,t,{get:n[t],enumerable:!0})};var P={};L(P,{client:()=>U,formdata:()=>O,metroError:()=>f,request:()=>b,response:()=>S,trace:()=>F,url:()=>d});var y="https://metro.muze.nl/details/";Symbol.metroProxy||(Symbol.metroProxy=Symbol("isProxy"));Symbol.metroSource||(Symbol.metroSource=Symbol("source"));var u=class o{#e={url:typeof window<"u"?window.location:"https://localhost"};#t=["get","post","put","delete","patch","head","options","query"];static tracers={};constructor(...n){for(let t of n)if(typeof t=="string"||t instanceof String)this.#e.url=""+t;else if(t instanceof o)Object.assign(this.#e,t.#e);else if(t instanceof Function)this.#r([t]);else if(t&&typeof t=="object")for(let e in t)e=="middlewares"?this.#r(t[e]):typeof t[e]=="function"?this.#e[e]=t[e](this.#e[e],this.#e):this.#e[e]=t[e];this.#e.verbs&&(this.#t=this.#e.verbs,delete this.#e.verbs);for(let t of this.#t)this[t]=async function(...e){return this.fetch(b(this.#e,...e,{method:t.toUpperCase()}))};Object.freeze(this)}#r(n){typeof n=="function"&&(n=[n]);let t=n.findIndex(e=>typeof e!="function");if(t>=0)throw f("metro.client: middlewares must be a function or an array of functions "+y+"client/invalid-middlewares-value/",n[t]);Array.isArray(this.#e.middlewares)||(this.#e.middlewares=[]),this.#e.middlewares=this.#e.middlewares.concat(n)}fetch(n,t){if(n=b(n,t),!n.url)throw f("metro.client."+n.method.toLowerCase()+": Missing url parameter "+y+"client/missing-url-param/",n);if(t||(t={}),typeof t!="object"||Array.isArray(t)||t instanceof String)throw f("metro.client.fetch: Options is not an object");let r=[async function(a){if(a[Symbol.metroProxy])if(a.body&&a.body[Symbol.metroSource]){let h=a.body[Symbol.metroSource];a=new Request(a[Symbol.metroSource],{body:h})}else a=a[Symbol.metroSource];let l=await fetch(a);return S(l)}].concat(this.#e?.middlewares?.slice()||[]);t=Object.assign({},this.#e,t);let i;for(let s of r)i=function(a,l){return async function(h){let p,k=Object.values(o.tracers);for(let c of k)c.request&&c.request.call(c,h,l);p=await l(h,a);for(let c of k)c.response&&c.response.call(c,p,l);return p}}(i,s);return i(n)}with(...n){return new o(this,...n)}};function U(...o){return new u(...o)}function w(o,n){let t=n.body;return t||(o===null?t=new ReadableStream:o instanceof ReadableStream?t=o:o instanceof Blob?t=o.stream():t=new ReadableStream({start(e){let r;switch(typeof o){case"object":if(typeof o.toString=="function")r=o.toString();else if(o instanceof FormData)r=new URLSearchParams(o).toString();else if(o instanceof ArrayBuffer||ArrayBuffer.isView(o))r=o;else throw f("Cannot convert body to ReadableStream",o);break;case"string":case"number":case"boolean":r=o;break;default:throw f("Cannot convert body to ReadableStream",o)}e.enqueue(r),e.close()}})),new Proxy(t,{get(e,r,i){switch(r){case Symbol.metroProxy:return!0;case Symbol.metroSource:return o;case"toString":return function(){return""+o}}if(o&&typeof o=="object"&&r in o)return typeof o[r]=="function"?function(...s){return o[r].apply(o,s)}:o[r];if(r in e&&r!="toString")return typeof e[r]=="function"?function(...s){return e[r].apply(e,s)}:e[r]},has(e,r){return o&&typeof o=="object"?r in o:r in e},ownKeys(e){return Reflect.ownKeys(o&&typeof o=="object"?o:e)},getOwnPropertyDescriptor(e,r){return Object.getOwnPropertyDescriptor(o&&typeof o=="object"?o:e,r)}})}function D(o,n){let t=n||{};!t.url&&n.url&&(t.url=n.url);for(let e of["method","headers","body","mode","credentials","cache","redirect","referrer","referrerPolicy","integrity","keepalive","signal","priority","url"]){let r=o[e];if(!(typeof r>"u"||r==null))if(r?.[Symbol.metroProxy]&&(r=r[Symbol.metroSource]),typeof r=="function")r(t[e],t);else if(e=="url")t.url=d(t.url,r);else if(e=="headers"){t.headers=new Headers(n.headers),r instanceof Headers||(r=new Headers(o.headers));for(let[i,s]of r.entries())t.headers.set(i,s)}else t[e]=r}return t}function b(...o){let n={url:typeof window<"u"?window.location:"https://localhost/",duplex:"half"};for(let r of o)typeof r=="string"||r instanceof URL||r instanceof URLSearchParams?n.url=d(n.url,r):r&&(r instanceof FormData||r instanceof ReadableStream||r instanceof Blob||r instanceof ArrayBuffer||r instanceof DataView)?n.body=r:r&&typeof r=="object"&&Object.assign(n,D(r,n));let t=n.body;t&&typeof t=="object"&&!(t instanceof String)&&!(t instanceof ReadableStream)&&!(t instanceof Blob)&&!(t instanceof ArrayBuffer)&&!(t instanceof DataView)&&!(t instanceof FormData)&&!(t instanceof URLSearchParams)&&(typeof TypedArray>"u"||!(t instanceof TypedArray))&&(n.body=JSON.stringify(t));let e=new Request(n.url,n);return Object.freeze(e),new Proxy(e,{get(r,i,s){switch(i){case Symbol.metroSource:return r;case Symbol.metroProxy:return!0;case"with":return function(...a){return t&&a.unshift({body:t}),b(r,...a)};case"body":if(t||(t=r.body),t)return t[Symbol.metroProxy]?t:w(t,r);break}return r[i]instanceof Function?r[i].bind(r):r[i]}})}function R(o,n){let t=n||{};!t.url&&n.url&&(t.url=n.url);for(let e of["status","statusText","headers","body","url","type","redirected"]){let r=o[e];typeof r>"u"||r==null||(r?.[Symbol.metroProxy]&&(r=r[Symbol.metroSource]),typeof r=="function"?r(t[e],t):e=="url"?t.url=new URL(r,t.url||"https://localhost/"):t[e]=r)}return t}function S(...o){let n={};for(let e of o)typeof e=="string"?n.body=e:e instanceof Response?Object.assign(n,R(e,n)):e&&typeof e=="object"&&(e instanceof FormData||e instanceof Blob||e instanceof ArrayBuffer||e instanceof DataView||e instanceof ReadableStream||e instanceof URLSearchParams||e instanceof String||typeof TypedArray<"u"&&e instanceof TypedArray?n.body=e:Object.assign(n,R(e,n)));let t=new Response(n.body,n);return Object.freeze(t),new Proxy(t,{get(e,r,i){switch(r){case Symbol.metroProxy:return!0;case Symbol.metroSource:return e;case"with":return function(...s){return S(e,...s)};case"body":return n.body?n.body[Symbol.metroProxy]?n.body:w(n.body,e):w("",e);case"ok":return e.status>=200&&e.status<400;case"headers":return e.headers;default:if(r in n&&r!="toString")return n[r];if(r in e&&r!="toString")return typeof e[r]=="function"?function(...s){return e[r].apply(e,s)}:e[r];break}}})}function v(o,n){typeof n=="function"?n(o.searchParams,o):(n=new URLSearchParams(n),n.forEach((t,e)=>{o.searchParams.append(e,t)}))}function d(...o){let n=["hash","host","hostname","href","password","pathname","port","protocol","username","search","searchParams"],t=new URL("https://localhost/");for(let e of o)if(typeof e=="string"||e instanceof String)t=new URL(e,t);else if(e instanceof URL||typeof Location<"u"&&e instanceof Location)t=new URL(e);else if(e instanceof URLSearchParams)v(t,e);else if(e&&typeof e=="object")for(let r in e)if(r=="search")typeof e.search=="function"?e.search(t.search,t):t.search=new URLSearchParams(e.search);else if(r=="searchParams")v(t,e.searchParams);else{if(!n.includes(r))throw f("metro.url: unknown url parameter "+y+"url/unknown-param-name/",r);if(typeof e[r]=="function")e[r](t[r],t);else if(typeof e[r]=="string"||e[r]instanceof String||typeof e[r]=="number"||e[r]instanceof Number||typeof e[r]=="boolean"||e[r]instanceof Boolean)t[r]=""+e[r];else if(typeof e[r]=="object"&&e[r].toString)t[r]=e[r].toString();else throw f("metro.url: unsupported value for "+r+" "+y+"url/unsupported-param-value/",o[r])}else throw f("metro.url: unsupported option value "+y+"url/unsupported-option-value/",e);return Object.freeze(t),new Proxy(t,{get(e,r,i){switch(r){case Symbol.metroProxy:return!0;case Symbol.metroSource:return e;case"with":return function(...s){return d(e,...s)}}return e[r]instanceof Function?e[r].bind(e):e[r]}})}function O(...o){var n=new FormData;for(let t of o)if(t instanceof FormData)for(let e of t.entries())n.append(e[0],e[1]);else if(t&&typeof t=="object")for(let e of Object.entries(t))if(Array.isArray(e[1]))for(let r of e[1])n.append(e[0],r);else n.append(e[0],e[1]);else throw new f("metro.formdata: unknown option type, only FormData or Object supported",t);return Object.freeze(n),new Proxy(n,{get:(t,e,r)=>{switch(e){case Symbol.metroProxy:return!0;case Symbol.metroSource:return t;case"with":return function(...i){return O(t,...i)}}return t[e]instanceof Function?t[e].bind(t):t[e]}})}var m={error:(o,...n)=>{console.error("\u24C2\uFE0F  ",o,...n)},info:(o,...n)=>{console.info("\u24C2\uFE0F  ",o,...n)},group:o=>{console.group("\u24C2\uFE0F  "+o)},groupEnd:o=>{console.groupEnd("\u24C2\uFE0F  "+o)}};function f(o,...n){return m.error(o,...n),new Error(o,...n)}var F={add(o,n){u.tracers[o]=n},delete(o){delete u.tracers[o]},clear(){u.tracers={}},group(){let o=0;return{request:(n,t)=>{o++,m.group(o),m.info(n?.url,n,t)},response:(n,t)=>{m.info(n?.body?n.body[Symbol.metroSource]:null,n,t),m.groupEnd(o),o--}}}};function j(o){return o=Object.assign({reviver:null,replacer:null,space:""},o),async(n,t)=>{["POST","PUT","PATCH","QUERY"].includes(n.method)?(n=n.with({headers:{"Content-Type":"application/json",Accept:"application/json"}}),n.body&&typeof n.body[Symbol.metroSource]=="object"&&(n=n.with({body:JSON.stringify(n.body[Symbol.metroSource],o.replacer,o.space)}))):n=n.with({headers:{Accept:"application/json"}});let e=await t(n),r=await e.text(),i=JSON.parse(r,o.reviver);return e.with({body:i})}}function x(o){return async(n,t)=>{let e=await t(n);if(!e.ok)if(o&&typeof o[e.status]=="function")e=o[e.status].apply(e,n);else throw new Error(e.status+": "+e.statusText,{cause:e});return e}}var A=Object.assign({},P,{mw:{jsonmw:j,thrower:x}});globalThis.metro=A;var V=A;})();
//# sourceMappingURL=everything.min.js.map
