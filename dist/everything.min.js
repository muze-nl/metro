(()=>{var A=Object.defineProperty;var L=(n,o)=>{for(var e in o)A(n,e,{get:o[e],enumerable:!0})};var w={};L(w,{client:()=>U,formdata:()=>k,metroError:()=>f,request:()=>d,response:()=>b,trace:()=>F,url:()=>p});var m="https://metro.muze.nl/details/";Symbol.metroProxy||(Symbol.metroProxy=Symbol("isProxy"));Symbol.metroSource||(Symbol.metroSource=Symbol("source"));var l=class n{#e={url:typeof window<"u"?window.location:"https://localhost"};#t=["get","post","put","delete","patch","head","options","query"];static tracers={};constructor(...o){for(let e of o)if(typeof e=="string"||e instanceof String)this.#e.url=""+e;else if(e instanceof n)Object.assign(this.#e,e.#e);else if(e instanceof Function)this.#r([e]);else if(e&&typeof e=="object")for(let r in e)r=="middlewares"?this.#r(e[r]):typeof e[r]=="function"?this.#e[r]=e[r](this.#e[r],this.#e):this.#e[r]=e[r];this.#e.verbs&&(this.#t=this.#e.verbs,delete this.#e.verbs);for(let e of this.#t)this[e]=async function(...r){return this.fetch(d(this.#e,...r,{method:e.toUpperCase()}))};Object.freeze(this)}#r(o){typeof o=="function"&&(o=[o]);let e=o.findIndex(r=>typeof r!="function");if(e>=0)throw f("metro.client: middlewares must be a function or an array of functions "+m+"client/invalid-middlewares-value/",o[e]);Array.isArray(this.#e.middlewares)||(this.#e.middlewares=[]),this.#e.middlewares=this.#e.middlewares.concat(o)}fetch(o,e){if(o=d(o,e),!o.url)throw f("metro.client."+o.method.toLowerCase()+": Missing url parameter "+m+"client/missing-url-param/",o);if(e||(e={}),typeof e!="object"||Array.isArray(e)||e instanceof String)throw f("metro.client.fetch: Options is not an object");let t=[async function(s){s[Symbol.metroProxy]&&(s=s[Symbol.metroSource]);let u=await fetch(s);return b(u)}].concat(this.#e?.middlewares?.slice()||[]);e=Object.assign({},this.#e,e);let a;for(let i of t)a=function(s,u){return async function(x){let h,R=Object.values(n.tracers);for(let c of R)c.request&&c.request.call(c,x,u);h=await u(x,s);for(let c of R)c.response&&c.response.call(c,h,u);return h}}(a,i);return a(o)}with(...o){return new n(this,...o)}};function U(...n){return new l(...n)}function E(n,o){let e=o||{};!e.url&&o.url&&(e.url=o.url);for(let r of["method","headers","body","mode","credentials","cache","redirect","referrer","referrerPolicy","integrity","keepalive","signal","priority","url"]){let t=n[r];if(!(typeof t>"u"||t==null))if(t?.[Symbol.metroProxy]&&(t=t[Symbol.metroSource]),typeof t=="function")e[r]=t(e[r],e);else if(r=="url")e.url=p(e.url,t);else if(r=="headers"){e.headers=new Headers(o.headers),t instanceof Headers||(t=new Headers(n.headers));for(let[a,i]of t.entries())e.headers.set(a,i)}else e[r]=t}return n instanceof Request&&n.data&&(e.body=n.data),e}function d(...n){let o={url:typeof window<"u"?window.location:"https://localhost/",duplex:"half"};for(let t of n)typeof t=="string"||t instanceof URL||t instanceof URLSearchParams?o.url=p(o.url,t):t&&(t instanceof FormData||t instanceof ReadableStream||t instanceof Blob||t instanceof ArrayBuffer||t instanceof DataView)?o.body=t:t&&typeof t=="object"&&Object.assign(o,E(t,o));let e=o.body;e&&typeof e=="object"&&!(e instanceof String)&&!(e instanceof ReadableStream)&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&!(e instanceof DataView)&&!(e instanceof FormData)&&!(e instanceof URLSearchParams)&&(typeof TypedArray>"u"||!(e instanceof TypedArray))&&(o.body=JSON.stringify(e));let r=new Request(o.url,o);return Object.freeze(r),new Proxy(r,{get(t,a,i){switch(a){case Symbol.metroSource:return t;case Symbol.metroProxy:return!0;case"with":return function(...s){return e&&s.unshift({body:e}),d(t,...s)};case"body":break;case"data":return e}return t[a]instanceof Function?t[a].bind(t):t[a]}})}function v(n,o){let e=o||{};!e.url&&o.url&&(e.url=o.url);for(let r of["status","statusText","headers","body","url","type","redirected"]){let t=n[r];typeof t>"u"||t==null||(t?.[Symbol.metroProxy]&&(t=t[Symbol.metroSource]),typeof t=="function"?e[r]=t(e[r],e):r=="url"?e.url=new URL(t,e.url||"https://localhost/"):e[r]=t)}return n instanceof Response&&n.data&&(e.body=n.data),e}function b(...n){let o={};for(let t of n)typeof t=="string"?o.body=t:t instanceof Response?Object.assign(o,v(t,o)):t&&typeof t=="object"&&(t instanceof FormData||t instanceof Blob||t instanceof ArrayBuffer||t instanceof DataView||t instanceof ReadableStream||t instanceof URLSearchParams||t instanceof String||typeof TypedArray<"u"&&t instanceof TypedArray?o.body=t:Object.assign(o,v(t,o)));let e;o.body&&(e=o.body);let r=new Response(o.body,o);return Object.freeze(r),new Proxy(r,{get(t,a,i){switch(a){case Symbol.metroProxy:return!0;case Symbol.metroSource:return t;case"with":return function(...s){return b(t,...s)};case"data":return e;case"ok":return t.status>=200&&t.status<400}return typeof t[a]=="function"?t[a].bind(t):t[a]}})}function g(n,o){typeof o=="function"?o(n.searchParams,n):(o=new URLSearchParams(o),o.forEach((e,r)=>{n.searchParams.append(r,e)}))}function p(...n){let o=["hash","host","hostname","href","password","pathname","port","protocol","username","search","searchParams"],e=new URL("https://localhost/");for(let r of n)if(typeof r=="string"||r instanceof String)e=new URL(r,e);else if(r instanceof URL||typeof Location<"u"&&r instanceof Location)e=new URL(r);else if(r instanceof URLSearchParams)g(e,r);else if(r&&typeof r=="object")for(let t in r)if(t=="search")typeof r.search=="function"?r.search(e.search,e):e.search=new URLSearchParams(r.search);else if(t=="searchParams")g(e,r.searchParams);else{if(!o.includes(t))throw f("metro.url: unknown url parameter "+m+"url/unknown-param-name/",t);if(typeof r[t]=="function")r[t](e[t],e);else if(typeof r[t]=="string"||r[t]instanceof String||typeof r[t]=="number"||r[t]instanceof Number||typeof r[t]=="boolean"||r[t]instanceof Boolean)e[t]=""+r[t];else if(typeof r[t]=="object"&&r[t].toString)e[t]=r[t].toString();else throw f("metro.url: unsupported value for "+t+" "+m+"url/unsupported-param-value/",n[t])}else throw f("metro.url: unsupported option value "+m+"url/unsupported-option-value/",r);return Object.freeze(e),new Proxy(e,{get(r,t,a){switch(t){case Symbol.metroProxy:return!0;case Symbol.metroSource:return r;case"with":return function(...i){return p(r,...i)}}return r[t]instanceof Function?r[t].bind(r):r[t]}})}function k(...n){var o=new FormData;for(let e of n)if(e instanceof HTMLFormElement&&(e=new FormData(e)),e instanceof FormData)for(let r of e.entries())o.append(r[0],r[1]);else if(e&&typeof e=="object")for(let r of Object.entries(e))if(Array.isArray(r[1]))for(let t of r[1])o.append(r[0],t);else o.append(r[0],r[1]);else throw new f("metro.formdata: unknown option type, only FormData or Object supported",e);return Object.freeze(o),new Proxy(o,{get:(e,r,t)=>{switch(r){case Symbol.metroProxy:return!0;case Symbol.metroSource:return e;case"with":return function(...a){return k(e,...a)}}return e[r]instanceof Function?e[r].bind(e):e[r]}})}var y={error:(n,...o)=>{console.error("\u24C2\uFE0F  ",n,...o)},info:(n,...o)=>{console.info("\u24C2\uFE0F  ",n,...o)},group:n=>{console.group("\u24C2\uFE0F  "+n)},groupEnd:n=>{console.groupEnd("\u24C2\uFE0F  "+n)}};function f(n,...o){return y.error(n,...o),new Error(n,...o)}var F={add(n,o){l.tracers[n]=o},delete(n){delete l.tracers[n]},clear(){l.tracers={}},group(){let n=0;return{request:(o,e)=>{n++,y.group(n),y.info(o?.url,o,e)},response:(o,e)=>{y.info(o?.body?o.body[Symbol.metroSource]:null,o,e),y.groupEnd(n),n--}}}};function P(n){return n=Object.assign({mimetype:"application/json",reviver:null,replacer:null,space:""},n),async(o,e)=>{S(o.headers.get("Accept"))||(o=o.with({headers:{Accept:n.mimetype}})),["POST","PUT","PATCH","QUERY"].includes(o.method)&&o.data&&typeof o.data=="object"&&!(o.data instanceof ReadableStream)&&(S(o.headers.get("content-type"))||(o=o.with({headers:{"Content-Type":n.mimetype}})),o=o.with({body:JSON.stringify(o.data,n.replacer,n.space)}));let r=await e(o);if(S(r.headers.get("content-type"))){let a=await r.clone().text();try{let i=JSON.parse(a,n.reviver);return r.with({body:i})}catch{}}return r}}var T=/^application\/([a-zA-Z0-9\-_]+\+)?json\b/;function S(n){return T.exec(n)}function j(n){return async(o,e)=>{let r=await e(o);if(!r.ok)if(n&&typeof n[r.status]=="function")r=n[r.status].apply(r,o);else throw new Error(r.status+": "+r.statusText,{cause:r});return r}}var O=Object.assign({},w,{mw:{jsonmw:P,thrower:j}});globalThis.metro||(globalThis.metro=O);var M=O;})();
//# sourceMappingURL=everything.min.js.map
