(()=>{var A=Object.defineProperty;var L=(n,r)=>{for(var t in r)A(n,t,{get:r[t],enumerable:!0})};var w={};L(w,{client:()=>U,formdata:()=>g,metroError:()=>f,request:()=>y,response:()=>b,trace:()=>T,url:()=>h});var l="https://metro.muze.nl/details/";Symbol.metroProxy||(Symbol.metroProxy=Symbol("isProxy"));Symbol.metroSource||(Symbol.metroSource=Symbol("source"));var u=class n{#e={url:typeof window<"u"?window.location:"https://localhost"};#t=["get","post","put","delete","patch","head","options","query"];static tracers={};constructor(...r){for(let t of r)if(typeof t=="string"||t instanceof String)this.#e.url=""+t;else if(t instanceof n)Object.assign(this.#e,t.#e);else if(t instanceof Function)this.#r([t]);else if(t&&typeof t=="object")for(let e in t)e=="middlewares"?this.#r(t[e]):typeof t[e]=="function"?this.#e[e]=t[e](this.#e[e],this.#e):this.#e[e]=t[e];this.#e.verbs&&(this.#t=this.#e.verbs,delete this.#e.verbs);for(let t of this.#t)this[t]=async function(...e){return this.fetch(y(this.#e,...e,{method:t.toUpperCase()}))};Object.freeze(this)}#r(r){typeof r=="function"&&(r=[r]);let t=r.findIndex(e=>typeof e!="function");if(t>=0)throw f("metro.client: middlewares must be a function or an array of functions "+l+"client/invalid-middlewares/",r[t]);Array.isArray(this.#e.middlewares)||(this.#e.middlewares=[]),this.#e.middlewares=this.#e.middlewares.concat(r)}fetch(r,t){if(r=y(r,t),!r.url)throw f("metro.client."+r.method.toLowerCase()+": Missing url parameter "+l+"client/fetch-missing-url/",r);if(t||(t={}),typeof t!="object"||t instanceof String)throw f("metro.client.fetch: Invalid options parameter "+l+"client/fetch-invalid-options/",t);let o=[async function(s){s[Symbol.metroProxy]&&(s=s[Symbol.metroSource]);let m=await fetch(s);return b(m)}].concat(this.#e?.middlewares?.slice()||[]);t=Object.assign({},this.#e,t);let a;for(let i of o)a=function(s,m){return async function(j){let p,v=Object.values(n.tracers);for(let c of v)c.request&&c.request.call(c,j,m);p=await m(j,s);for(let c of v)c.response&&c.response.call(c,p,m);return p}}(a,i);return a(r)}with(...r){return new n(this,...r)}};function U(...n){return new u(...n)}function E(n,r){let t=r||{};!t.url&&r.url&&(t.url=r.url);for(let e of["method","headers","body","mode","credentials","cache","redirect","referrer","referrerPolicy","integrity","keepalive","signal","priority","url"]){let o=n[e];if(!(typeof o>"u"||o==null))if(o?.[Symbol.metroProxy]&&(o=o[Symbol.metroSource]),typeof o=="function")t[e]=o(t[e],t);else if(e=="url")t.url=h(t.url,o);else if(e=="headers"){t.headers=new Headers(r.headers),o instanceof Headers||(o=new Headers(n.headers));for(let[a,i]of o.entries())t.headers.set(a,i)}else t[e]=o}return n instanceof Request&&n.data&&(t.body=n.data),t}function y(...n){let r={url:typeof window<"u"?window.location:"https://localhost/",duplex:"half"};for(let o of n)typeof o=="string"||o instanceof URL||o instanceof URLSearchParams?r.url=h(r.url,o):o&&(o instanceof FormData||o instanceof ReadableStream||o instanceof Blob||o instanceof ArrayBuffer||o instanceof DataView)?r.body=o:o&&typeof o=="object"&&Object.assign(r,E(o,r));let t=new Request(r.url,r),e=r.body;return e&&typeof e=="object"&&!(e instanceof String)&&!(e instanceof ReadableStream)&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&!(e instanceof DataView)&&!(e instanceof FormData)&&!(e instanceof URLSearchParams)&&(typeof TypedArray>"u"||!(e instanceof TypedArray))&&typeof e.toString=="function"&&(r.body=e.toString({headers:t.headers}),t=new Request(r.url,r)),Object.freeze(t),new Proxy(t,{get(o,a,i){switch(a){case Symbol.metroSource:return o;case Symbol.metroProxy:return!0;case"with":return function(...s){return e&&s.unshift({body:e}),y(o,...s)};case"data":return e}return o[a]instanceof Function?o[a].bind(o):o[a]}})}function R(n,r){let t=r||{};!t.url&&r.url&&(t.url=r.url);for(let e of["status","statusText","headers","body","url","type","redirected"]){let o=n[e];typeof o>"u"||o==null||(o?.[Symbol.metroProxy]&&(o=o[Symbol.metroSource]),typeof o=="function"?t[e]=o(t[e],t):e=="url"?t.url=new URL(o,t.url||"https://localhost/"):t[e]=o)}return n instanceof Response&&n.data&&(t.body=n.data),t}function b(...n){let r={};for(let o of n)typeof o=="string"?r.body=o:o instanceof Response?Object.assign(r,R(o,r)):o&&typeof o=="object"&&(o instanceof FormData||o instanceof Blob||o instanceof ArrayBuffer||o instanceof DataView||o instanceof ReadableStream||o instanceof URLSearchParams||o instanceof String||typeof TypedArray<"u"&&o instanceof TypedArray?r.body=o:Object.assign(r,R(o,r)));let t;r.body&&(t=r.body),[101,204,205,304].includes(r.status)&&(r.body=null);let e=new Response(r.body,r);return Object.freeze(e),new Proxy(e,{get(o,a,i){switch(a){case Symbol.metroProxy:return!0;case Symbol.metroSource:return o;case"with":return function(...s){return b(o,...s)};case"data":return t;case"ok":return o.status>=200&&o.status<400}return typeof o[a]=="function"?o[a].bind(o):o[a]}})}function k(n,r){typeof r=="function"?r(n.searchParams,n):(r=new URLSearchParams(r),r.forEach((t,e)=>{n.searchParams.append(e,t)}))}function h(...n){let r=["hash","host","hostname","href","password","pathname","port","protocol","username","search","searchParams"],t=new URL("https://localhost/");for(let e of n)if(typeof e=="string"||e instanceof String)t=new URL(e,t);else if(e instanceof URL||typeof Location<"u"&&e instanceof Location)t=new URL(e);else if(e instanceof URLSearchParams)k(t,e);else if(e&&typeof e=="object")for(let o in e)switch(o){case"search":typeof e.search=="function"?e.search(t.search,t):t.search=new URLSearchParams(e.search);break;case"searchParams":k(t,e.searchParams);break;default:if(!r.includes(o))throw f("metro.url: unknown url parameter "+l+"url/unknown-param-name/",o);if(typeof e[o]=="function")e[o](t[o],t);else if(typeof e[o]=="string"||e[o]instanceof String||typeof e[o]=="number"||e[o]instanceof Number||typeof e[o]=="boolean"||e[o]instanceof Boolean)t[o]=""+e[o];else if(typeof e[o]=="object"&&e[o].toString)t[o]=e[o].toString();else throw f("metro.url: unsupported value for "+o+" "+l+"url/unsupported-param-value/",n[o]);break}else throw f("metro.url: unsupported option value "+l+"url/unsupported-option-value/",e);return Object.freeze(t),new Proxy(t,{get(e,o,a){switch(o){case Symbol.metroProxy:return!0;case Symbol.metroSource:return e;case"with":return function(...i){return h(e,...i)};case"filename":return e.pathname.split("/").pop();case"folderpath":return e.pathname.substring(0,e.pathname.lastIndexOf("\\")+1)}return e[o]instanceof Function?e[o].bind(e):e[o]}})}function g(...n){var r=new FormData;for(let t of n)if(t instanceof HTMLFormElement&&(t=new FormData(t)),t instanceof FormData)for(let e of t.entries())r.append(e[0],e[1]);else if(t&&typeof t=="object")for(let e of Object.entries(t))if(Array.isArray(e[1]))for(let o of e[1])r.append(e[0],o);else r.append(e[0],e[1]);else throw new f("metro.formdata: unknown option type "+l+"formdata/unknown-option-value/",t);return Object.freeze(r),new Proxy(r,{get:(t,e,o)=>{switch(e){case Symbol.metroProxy:return!0;case Symbol.metroSource:return t;case"with":return function(...a){return g(t,...a)}}return t[e]instanceof Function?t[e].bind(t):t[e]}})}var d={error:(n,...r)=>{console.error("\u24C2\uFE0F  ",n,...r)},info:(n,...r)=>{console.info("\u24C2\uFE0F  ",n,...r)},group:n=>{console.group("\u24C2\uFE0F  "+n)},groupEnd:n=>{console.groupEnd("\u24C2\uFE0F  "+n)}};function f(n,...r){return d.error(n,...r),new Error(n,...r)}var T={add(n,r){u.tracers[n]=r},delete(n){delete u.tracers[n]},clear(){u.tracers={}},group(){let n=0;return{request:(r,t)=>{n++,d.group(n),d.info(r?.url,r,t)},response:(r,t)=>{d.info(r?.body?r.body[Symbol.metroSource]:null,r,t),d.groupEnd(n),n--}}}};function P(n){return n=Object.assign({mimetype:"application/json",reviver:null,replacer:null,space:""},n),async(r,t)=>{S(r.headers.get("Accept"))||(r=r.with({headers:{Accept:n.mimetype}})),["POST","PUT","PATCH","QUERY"].includes(r.method)&&r.data&&typeof r.data=="object"&&!(r.data instanceof ReadableStream)&&(S(r.headers.get("content-type"))||(r=r.with({headers:{"Content-Type":n.mimetype}})),r=r.with({body:JSON.stringify(r.data,n.replacer,n.space)}));let e=await t(r);if(S(e.headers.get("content-type"))){let a=await e.clone().text();try{let i=JSON.parse(a,n.reviver);return e.with({body:i})}catch{}}return e}}var F=/^application\/([a-zA-Z0-9\-_]+\+)?json\b/;function S(n){return F.exec(n)}function x(n){return async(r,t)=>{let e=await t(r);if(!e.ok)if(n&&typeof n[e.status]=="function")e=n[e.status].apply(e,r);else throw new Error(e.status+": "+e.statusText,{cause:e});return e}}var O=Object.assign({},w,{mw:{jsonmw:P,thrower:x}});globalThis.metro||(globalThis.metro=O);var J=O;})();
//# sourceMappingURL=everything.min.js.map
